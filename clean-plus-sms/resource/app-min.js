!function(){angular.module("appModule",["ngRoute","ngCookies","clientModule","clientReloadModule","clientReloadHistoyModule","clientMessageHistoyModule","ui.bootstrap"]),angular.module("appModule").config(function(e){e.when("/manage-client",{templateUrl:"app/master/client/client.html",controller:"clientController"}).when("/client-sms-reload",{templateUrl:"app/transaction/client-reloard/client-reloard.html",controller:"clientReloadController"}).when("/client-sms-reload-history",{templateUrl:"app/transaction/client-reloard-history/client-reloard-history.html",controller:"clientReloadHistoyController"}).when("/client-sms-mesage-history",{templateUrl:"app/transaction/client-sms-mesage-history/client-sms-mesage-history.html",controller:"clientMessageHistoyController"}).when("/reports",{templateUrl:"view.html",controller:""}).when("/read-file",{templateUrl:"app/read/read_file.html",controller:""}).when("/login",{templateUrl:"app/system/login/login.html",controller:"LoginController"}).otherwise({redirectTo:"/login"})}),angular.module("appModule").run(function(e,t,n,i){e.globals=n.get("globals")||{},e.globals.currentUser&&(i.defaults.headers.common.Authorization="Basic "+e.globals.currentUser.authdata),e.$on("$locationChangeStart",function(n,i,a){var r=e.globals.currentUser;"/login"===t.path()||r?e.loginStatus=!0:(e.loginStatus=!1,t.path("/login"))})})}(),function(){function e(e,t,n){function i(i,u){var g=u.dirPaginate,p=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),d=/\|\s*itemsPerPage\s*:[^|]*/;if(null===p[2].match(d))throw"pagination directive: the 'itemsPerPage' filter must be set.";var m=p[2].replace(d,""),f=t(m);o(i);var h=u.paginationId||c;return n.registerInstance(h),function(i,o,u){var p=t(u.paginationId)(i)||u.paginationId||c;n.registerInstance(p);var d=a(g,p);r(o,u,d),l(o);var m=e(o),h=s(i,u,p);n.setCurrentPageParser(p,h,i),void 0!==u.totalItems?(n.setAsyncModeTrue(p),i.$watch(function(){return t(u.totalItems)(i)},function(e){0<=e&&n.setCollectionLength(p,e)})):i.$watchCollection(function(){return f(i)},function(e){e&&n.setCollectionLength(p,e.length)}),m(i)}}function a(e,t){var n=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return t===c||n?e:e.replace(/(\|\s*itemsPerPage\s*:[^|]*)/,"$1 : '"+t+"'")}function r(e,t,n){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",n),e.eq(e.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",n)}function o(e){angular.forEach(e,function(e){e.nodeType===Node.ELEMENT_NODE&&angular.element(e).attr("dir-paginate-no-compile",!0)})}function l(e){angular.forEach(e,function(e){e.nodeType===Node.ELEMENT_NODE&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function s(e,n,i){var a;if(n.currentPage)a=t(n.currentPage);else{var r=i+"__currentPage";e[r]=1,a=t(r)}return a}return{terminal:!0,multiElement:!0,compile:i}}function t(){return{priority:5e3,terminal:!0}}function n(e){e.put("angularUtils.directives.dirPagination.template",'<ul style="float:right;" class="pagination pagination-sm" ng-if="1 < pages.length"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by $index" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function i(e,t){function n(t,n,a){function o(n){u(n)&&(t.pages=i(n,e.getCollectionLength(p),e.getItemsPerPage(p),d),t.pagination.current=n,s(),t.onPageChange&&t.onPageChange({newPageNumber:n}))}function l(){var n=parseInt(e.getCurrentPage(p))||1;t.pages=i(n,e.getCollectionLength(p),e.getItemsPerPage(p),d),t.pagination.current=n,t.pagination.last=t.pages[t.pages.length-1],t.pagination.last<t.pagination.current?t.setCurrent(t.pagination.last):s()}function s(){var n=e.getCurrentPage(p),i=e.getItemsPerPage(p),a=e.getCollectionLength(p);t.range.lower=(n-1)*i+1,t.range.upper=Math.min(n*i,a),t.range.total=a}function u(e){return r.test(e)&&0<e&&e<=t.pagination.last}var g=a.paginationId||c,p=t.paginationId||a.paginationId||c;if(!e.isRegistered(p)&&!e.isRegistered(g))throw"pagination directive: the pagination controls"+(p!==c?" (id: "+p+") ":" ")+"cannot be used without the corresponding pagination directive.";t.maxSize||(t.maxSize=9),t.directionLinks=!angular.isDefined(a.directionLinks)||t.$parent.$eval(a.directionLinks),t.boundaryLinks=!!angular.isDefined(a.boundaryLinks)&&t.$parent.$eval(a.boundaryLinks);var d=Math.max(t.maxSize,5);t.pages=[],t.pagination={last:1,current:1},t.range={lower:1,upper:1,total:1},t.$watch(function(){return(e.getCollectionLength(p)+1)*e.getItemsPerPage(p)},function(e){0<e&&l()}),t.$watch(function(){return e.getItemsPerPage(p)},function(e,n){e!=n&&void 0!==n&&o(t.pagination.current)}),t.$watch(function(){return e.getCurrentPage(p)},function(e,t){e!=t&&o(e)}),t.setCurrent=function(t){u(t)&&(t=parseInt(t,10),e.setCurrentPage(p,t))}}function i(e,t,n,i){var r,o=[],l=Math.ceil(t/n),s=Math.ceil(i/2);r=e<=s?"start":l-s<e?"end":"middle";for(var c=i<l,u=1;u<=l&&u<=i;){var g=a(u,e,i,l),p=2===u&&("middle"===r||"end"===r),d=u===i-1&&("middle"===r||"start"===r);c&&(p||d)?o.push("..."):o.push(g),u++}return o}function a(e,t,n,i){var a=Math.ceil(n/2);return e===n?i:1===e?e:n<i?i-a<t?i-n+e:a<t?t-a+e:e:e}var r=/^\d+$/;return{restrict:"AE",templateUrl:function(e,n){return n.templateUrl||t.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?"},link:n}}function a(e){return function(t,n,i){if(void 0===i&&(i=c),!e.isRegistered(i))throw"pagination directive: the itemsPerPage id argument (id: "+i+") does not match a registered pagination-id.";var a,r;return t instanceof Array?(n=parseInt(n)||9999999999,r=e.isAsyncMode(i)?0:(e.getCurrentPage(i)-1)*n,a=r+n,e.setItemsPerPage(i,n),t.slice(r,a)):t}}function r(){var e,t={};this.registerInstance=function(n){void 0===t[n]&&(t[n]={asyncMode:!1},e=n)},this.isRegistered=function(e){return void 0!==t[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,n,i){t[e].currentPageParser=n,t[e].context=i},this.setCurrentPage=function(e,n){t[e].currentPageParser.assign(t[e].context,n)},this.getCurrentPage=function(e){var n=t[e].currentPageParser;return n?n(t[e].context):1},this.setItemsPerPage=function(e,n){t[e].itemsPerPage=n},this.getItemsPerPage=function(e){return t[e].itemsPerPage},this.setCollectionLength=function(e,n){t[e].collectionLength=n},this.getCollectionLength=function(e){return t[e].collectionLength},this.setAsyncModeTrue=function(e){t[e].asyncMode=!0},this.isAsyncMode=function(e){return t[e].asyncMode}}function o(){var e="angularUtils.directives.dirPagination.template";this.setPath=function(t){e=t},this.$get=function(){return{getPath:function(){return e}}}}var l,s="angularUtils.directives.dirPagination",c="__default";try{l=angular.module(s)}catch(e){l=angular.module(s,[])}l.directive("dirPaginate",["$compile","$parse","paginationService",e]).directive("dirPaginateNoCompile",t).directive("dirPaginationControls",["paginationService","paginationTemplate",i]).filter("itemsPerPage",["paginationService",a]).service("paginationService",r).provider("paginationTemplate",o).run(["$templateCache",n])}(),function(){angular.module("clientModule",["ui-notification","ui.bootstrap"]),angular.module("clientModule").controller("clientController",function(e,t,n){t.clients=[],t.clientTempData={index_no:null,name:null,user_name:null,password:null,api_key:null,sender_id:null,status:null},t.validate=function(){return t.clientTempData.name?t.clientTempData.user_name?t.clientTempData.password?t.clientTempData.sender_id?!!(t.clientTempData.name&&t.clientTempData.user_name&&t.clientTempData.sender_id&&t.clientTempData.password)||void 0:(n.error("enter client sender id"),!1):(n.error("enter client password"),!1):(n.error("enter client user name"),!1):(n.error("enter client name"),!1)},t.clear=function(){t.clientTempData={}},t.editClient=function(e){t.clientTempData={};for(var n=-1,i=0;i<t.clients.length;i++)t.clients[i].index_no===e.index_no&&(n=i);t.clients.splice(n,1),t.clientTempData=e},t.updateClient=function(){t.validate()&&e.post("app/php-functions/client.php?action=f3",t.clientTempData).success(function(e){t.clients.push(t.clientTempData),t.clear(),n.success("client update success")}).error(function(e){console.log("error")})},t.saveClient=function(){t.validate()&&(t.clientTempData.status="ACTIVE",e.post("app/php-functions/client.php?action=f1",t.clientTempData).success(function(e){t.clientTempData.index_no=e,t.clients.push(t.clientTempData),n.success("new client success"),t.clear()}).error(function(e){console.log("error")}))},t.deleteClient=function(i){e.post("app/php-functions/client.php?action=f4",i).success(function(e){for(var i=-1,a=0;a<t.clients.length;a++)t.clients[a].index_no===e&&(i=a);t.clients.splice(i,1),n.error("client delete success")}).error(function(e){console.log("error")})},t.getApiKey=function(){e.get("app/php-functions/get_api_key.php").success(function(e){n.success("new api"),t.clientTempData.api_key=e})},t.init=function(){e.get("app/php-functions/client.php?action=f2").success(function(e){t.clients=e}),t.clientTempData={},t.getApiKey()},t.init()})}(),function(){"use strict";angular.module("appModule").controller("LoginController",function(e,t,n,i,a){a.ClearCredentials(),e.login=function(){a.Login(e.username,e.password,function(r){r?(a.SetCredentials(e.username,e.password),t.user=e.username,i.path("/client-sms-reload-history")):n.error("Username or password is incorrect")})}})}(),function(){"use strict";angular.module("appModule").factory("AuthenticationService",function(e,t,n,i){var a={};a.Login=function(e,t,a){n.loginStatus=!1,i(function(){var i=!1;"kavishmanjitha"===e&&"admin"===t?(n.loginStatus=!0,i=!0):(n.loginStatus=!1,i=!1),a(i)},1e3)},a.SetCredentials=function(i,a){var o=r.encode(i+":"+a);n.globals={currentUser:{username:i,authdata:o}},e.defaults.headers.common.Authorization="Basic "+o;var l=new Date;l.setTime(l.getTime()+18e5),t.putObject("globals",n.globals,{expires:l})},a.ClearCredentials=function(){n.globals={},t.remove("globals"),e.defaults.headers.common.Authorization="Basic",n.loginStatus=!1};var r={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,a,r,o="",l="",s="",c=0;do{i=(t=e.charCodeAt(c++))>>2,a=(3&t)<<4|(n=e.charCodeAt(c++))>>4,r=(15&n)<<2|(l=e.charCodeAt(c++))>>6,s=63&l,isNaN(n)?r=s=64:isNaN(l)&&(s=64),o=o+this.keyStr.charAt(i)+this.keyStr.charAt(a)+this.keyStr.charAt(r)+this.keyStr.charAt(s),t=n=l="",i=a=r=s=""}while(c<e.length);return o},decode:function(e){var t,n,i,a,r="",o="",l="",s=0;/[^A-Za-z0-9\+\/\=]/g.exec(e)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=this.keyStr.indexOf(e.charAt(s++))<<2|(i=this.keyStr.indexOf(e.charAt(s++)))>>4,n=(15&i)<<4|(a=this.keyStr.indexOf(e.charAt(s++)))>>2,o=(3&a)<<6|(l=this.keyStr.indexOf(e.charAt(s++))),r+=String.fromCharCode(t),64!=a&&(r+=String.fromCharCode(n)),64!=l&&(r+=String.fromCharCode(o)),t=n=o="",i=a=l=""}while(s<e.length);return r}};return a})}(),function(){angular.module("clientReloadModule",["ui-notification","ui.bootstrap"]),angular.module("clientReloadModule").controller("clientReloadController",function(e,t,n,i){t.clients=[],t.clientReloadSmsHistory=[],t.clientSmsAmount=0,t.clientMessageDetailHistory=[],t.clientAccount={credit_amount:0,debit_amount:0,prasantage:0},t.clientTempData={index_no:null,name:null,user_name:null,password:null,api_key:null,status:null},t.clientLegerData={index_no:null,date:null,client:null,debit_amount:null,cradit_amount:null},t.findClientDetailsByApiKey=function(e){t.clientTempData=e,t.getClientReloardHistory(e.index_no)},t.findClientDetailsByName=function(e){t.clientTempData=e,t.getClientReloardHistory(e.index_no)},t.clear=function(){t.clientReloadSmsHistory=[],t.clientMessageDetailHistory=[],t.clientSmsAmount=0,t.newClientSmsAmount=0,t.searchApiKey="",t.searchName="",t.clientTempData={},t.clientLegerData={},t.clientAccount={}},t.newSmsAmount=function(){t.clientTempData.index_no?t.newClientSmsAmount?t.newClientSmsAmount&&t.clientTempData.index_no&&(t.clientLegerData.client=t.clientTempData.index_no,t.clientLegerData.date=n("date")(new Date,"yyyy-MM-dd HH:mm:ss"),t.clientLegerData.debit_amount=t.newClientSmsAmount,e.post("app/php-functions/clent-leger.php?action=f3",t.clientLegerData).success(function(e){i.success("new client sms amount add success"),t.clear()}).error(function(e){console.log("error")})):i.error("please enter sms amount"):i.error("please select client")},t.getClientReloardHistory=function(n){e.post("app/php-functions/clent-leger.php?action=f2",n).success(function(e){t.clientReloadSmsHistory=e}).error(function(e){console.log("error")}),e.post("app/php-functions/clent-leger.php?action=f1",n).success(function(e){t.clientSmsAmount=parseInt(e)}).error(function(e){console.log("error")}),e.post("app/php-functions/client_messages.php?action=f1",n).success(function(e){t.clientMessageDetailHistory=e}).error(function(e){console.log("error")})},t.init=function(){e.get("app/php-functions/client.php?action=f2").success(function(e){t.clients=e})},t.init()})}(),function(){angular.module("clientReloadHistoyModule",["ui-notification","ui.bootstrap"]),angular.module("clientReloadHistoyModule").controller("clientReloadHistoyController",function(e,t){t.clients=[],t.clientReloadSmsHistory=[],t.allClientReloadSmsHistory=[],t.client=function(e){var n="";return angular.forEach(t.clients,function(t){t.index_no!==e||(n=t)}),n},t.init=function(){e.post("app/php-functions/clent-leger.php?action=f4").success(function(e){t.clientReloadSmsHistory=e}).error(function(e){console.log("error")}),e.post("app/php-functions/clent-leger.php?action=f5").success(function(e){console.log(e),t.allClientReloadSmsHistory=e}).error(function(e){console.log("error")}),e.get("app/php-functions/client.php?action=f2").success(function(e){t.clients=e})},t.init()})}(),function(){angular.module("clientMessageHistoyModule",["ui-notification","ui.bootstrap","angularUtils.directives.dirPagination"]),angular.module("clientMessageHistoyModule").controller("clientMessageHistoyController",function(e,t){t.clients=[],t.clienrSmsMessageHistory=[],t.totalSms=0,t.searchFunctions={client:null,fromDate:null,toDate:null,receiveNumber:null,charactorCount:null,smsCount:null},t.findMessageDetails=function(){e.post("app/php-functions/client_messages.php?action=f2",t.searchFunctions).success(function(e){t.clienrSmsMessageHistory=e}).error(function(e){console.log("error")})},t.clear=function(){t.searchFunctions={client:null,fromDate:null,toDate:null,receiveNumber:null,charactorCount:null,smsCount:null},t.clienrSmsMessageHistory=[]},t.client=function(e){var n="";return angular.forEach(t.clients,function(t){t.index_no!==e||(n=t)}),n},t.totalSmsCount=function(){var e=0;return angular.forEach(t.clienrSmsMessageHistory,function(t){e+=parseInt(t.sms_count)}),e},t.messageView=function(e,n){t.isVisible=0==t.isVisible,t.messagePosition=t.messagePosition==e?-1:e,t.message=n},t.init=function(){e.get("app/php-functions/client.php?action=f2").success(function(e){t.clients=e})},t.init()})}();